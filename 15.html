<html>
  <head>
    <meta charset="utf-8" />
    <title>Pasar Rakyat Oro-oro Dowo</title>
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui"
    />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="theme-color" content="black" />

    <script src="aframe-master.js"></script>
    <script src="aframe-href-component.js"></script>

    <link rel="stylesheet" href="popup.css" />
  </head>

  <body>
    <a-scene>
      <a-assets>
        <audio id="musik" src="asset/Musik Pasar Oro-oro Dowo.mp3"></audio>
      </a-assets>

      <!-- Musik -->
      <a-entity sound="src: #musik; autoplay: true; loop: true"></a-entity>

      <!-- ========================= CAMERA + CURSOR ========================= -->
      <a-camera
        look-controls
        wasd-controls-enabled="false"
        position="0 1.8 4"
        raycaster="objects: .clickable; far: 30"
        cursor="fuse: true; fuseTimeout: 1500"
      >
        <a-ring
          radius-outer="0.06"
          radius-inner="0.04"
          position="0 0 -1"
          material="color: #C78CA0; shader: flat"
        >
          <!-- Animasi click -->
          <a-animation
            begin="click"
            easing="ease-in"
            attribute="scale"
            fill="backwards"
            from="0.5 0.5 0.5"
            to="1 1 1"
            dur="150"
          ></a-animation>

          <!-- Animasi saat fusing -->
          <a-animation
            begin="fusing"
            easing="ease-in"
            attribute="scale"
            fill="forwards"
            from="1 1 1"
            to="0.2 0.2 0.2"
            dur="1500"
          ></a-animation>
        </a-ring>
      </a-camera>

      <!-- ========================= PANAH DEPAN ========================= -->
      <a-entity
        href="16.html"
        position="0 0.05 8"
        rotation="-80 -40 0"
        scale="1.5 1.5 1.5"
        class="clickable"
      >
        <a-triangle
          color="#ffffff"
          vertex-a="0 0.3 0"
          vertex-b="-0.3 -0.3 0"
          vertex-c="0.3 -0.3 0"
        >
        </a-triangle>
      </a-entity>

      <!-- ========================= PANAH BELAKANG ========================= -->
      <a-entity
        href="14.html"
        position="-0.5 0.5 -1"
        rotation="-90 80 45"
        scale="1.5 1.5 1.5"
        class="clickable"
      >
        <a-triangle
          color="#ffffff"
          vertex-a="0 0.3 0"
          vertex-b="-0.3 -0.3 0"
          vertex-c="0.3 -0.3 0"
        >
        </a-triangle>
      </a-entity>

      <!-- ========================= LOGO TOKO ========================= -->

      <!-- TOKO KASIATI -->
      <a-image
        id="btn-kasiati"
        class="clickable"
        src="asset/Logo Toko.png"
        scale="1 1 1"
        position="0.5 3.2 3"
        rotation="0 135 0"
      ></a-image>

      <!-- TOKO LAPIAH -->
      <a-image
        id="btn-lapiah"
        class="clickable"
        src="asset/Logo Toko.png"
        scale="2 2 2"
        position="2 3 5"
        rotation="0 90 0"
      ></a-image>

      <!-- TOKO NURUL -->
      <a-image
        id="btn-nurul"
        class="clickable"
        src="asset/Logo Toko.png"
        scale="3 3 3"
        position="-2 3 10"
        rotation="0 135 0"
      ></a-image>

      <a-sky src="asset/15.JPG"></a-sky>
    </a-scene>

    <div id="popup-overlay" class="popup-overlay">
      <div id="popup-wrapper" class="popup-wrapper"></div>
    </div>

    <!-- ========================= SCRIPT ========================= -->
    <script type="module">
      import { showPopup, initPopupClose } from "./popup.js";

      initPopupClose();

      document.getElementById("btn-kasiati").addEventListener("click", () => {
        showPopup([
          "asset/detail-toko/kasiati_nama.jpg",
          "asset/detail-toko/kasiati_detail.jpg",
        ]);
      });

      document.getElementById("btn-lapiah").addEventListener("click", () => {
        showPopup([
          "asset/detail-toko/lapiah_nama.png",
          "asset/detail-toko/lapiah_detail.jpg",
        ]);
      });

      document.getElementById("btn-nurul").addEventListener("click", () => {
        showPopup([
          "asset/detail-toko/nurul_nama.jpg",
          "asset/detail-toko/nurul_detail.jpg",
        ]);
      });
    </script>
  </body>
</html>
